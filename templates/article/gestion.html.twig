{% extends 'base.html.twig' %}

{% block title %}
	Gestion des articles
{% endblock %}
{% block body %}
    <a class="btn btn-success mb-2" href="{{ path('create_article') }}">Créer un article</a>
	<table class="table table-dark table-striped">
		<thead>
			<tr>
				<th>Id</th>
                <th>Photo d'illustration</th>
				<th>Titre</th>
                <th>Date de publication</th>
				<th>Contenu</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			{% for article in articles %}
				<tr>
					<td>
						{{article.id}}
					</td>
					<td>
						<img width="40" src="{{ asset('upload/') }}{{article.picture}}">
					</td>
					<td>
						{{article.title}}
					</td>
					<td>
						{{article.publishDate | date('d/m/Y')}}
						à
						{{article.publishDate | date('H:i:s')}}
						{# Petite frime pour la concaténation de la date en deux appels de la même donnée avec deux formats différents #}
					</td>
					<td>
						{{article.content}}
					</td>
					<td>
						<a href="{{ path('update_article', {id: article.id}) }}" class="btn btn-primary">Modifier</a>
						<a href="{{ path('delete_article', {id: article.id}) }}" class="btn btn-primary">Supprimer</a>
					</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
{% endblock %}
